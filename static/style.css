function sendMessage() {
    const input = document.getElementById("msg");
    const msg = input.value;
    const receiver_id = 1; // tymczasowo, wybierz w HTML dynamicznie
    socket.emit('send_message', {receiver_id, body: msg});
    input.value = '';
}

socket.on('receive_message', data => {
    const ul = document.getElementById("messages");
    const li = document.createElement("li");
    li.textContent = `${data.sender}: ${data.body}`;
    ul.appendChild(li);
});

socket.on('load_messages', msgs => {
    const ul = document.getElementById("messages");
    ul.innerHTML = '';
    msgs.forEach(m => {
        const li = document.createElement("li");
        li.textContent = `${m.sender}: ${m.body}`;
        ul.appendChild(li);
    });
});
